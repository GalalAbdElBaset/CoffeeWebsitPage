"use strict";!function(){var o=document.getElementById("theme-toggle"),s=document.body,t=o.querySelector("i"),e=localStorage.getItem("theme");e&&"light"!==e?(s.classList.remove("light-mode"),t.classList.remove("fa-sun"),t.classList.add("fa-moon")):(s.classList.add("light-mode"),t.classList.remove("fa-moon"),t.classList.add("fa-sun"),localStorage.setItem("theme","light")),o.addEventListener("click",function(){s.classList.toggle("light-mode");var e=s.classList.contains("light-mode");o.classList.add("glow"),setTimeout(function(){return o.classList.remove("glow")},420),t.classList.remove(e?"fa-moon":"fa-sun"),t.classList.add(e?"fa-sun":"fa-moon"),localStorage.setItem("theme",e?"light":"dark")})}();var loginBtn=document.querySelector("#login-btn"),signUpBtn=document.querySelector("#sign-up-btn"),usernameIn=document.querySelector("#userid"),emailIn=document.querySelector("#emailid"),passwordIn=document.querySelector("#pswrd"),popupBox=document.createElement("div");popupBox.id="popup-box",popupBox.innerHTML='\n<div class="popup-content">\n    <div id="popup-icon"></div>\n    <p id="popup-message"></p>\n    <button id="popup-close">OK</button>\n</div>\n',document.body.appendChild(popupBox);var popupMessage=document.querySelector("#popup-message"),popupClose=document.querySelector("#popup-close"),popupIcon=document.querySelector("#popup-icon");function showPopup(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"success",s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;popupMessage.textContent=e,popupBox.className="active",popupIcon.className="","success"===o?popupIcon.innerHTML='<i class="fa-solid fa-circle-check" style="color: #4CAF50;"></i>':"error"===o?popupIcon.innerHTML='<i class="fa-solid fa-circle-xmark" style="color: #f44336;"></i>':"warning"===o&&(popupIcon.innerHTML='<i class="fa-solid fa-triangle-exclamation" style="color: #ff9800;"></i>'),popupBox.classList.add("active");var t=setTimeout(function(){popupBox.classList.remove("active"),s&&s()},3e3);popupClose.onclick=function(){clearTimeout(t),popupBox.classList.remove("active"),s&&s()}}loginBtn&&loginBtn.addEventListener("click",function(){var o=usernameIn.value.trim(),s=passwordIn.value.trim();if(""!==o&&""!==s){var e=[];try{var t=JSON.parse(localStorage.getItem("users"));Array.isArray(t)&&(e=t.filter(function(e){return e&&e.username&&e.password}))}catch(e){}var n=e.find(function(e){return e.username===o&&e.password===s});n?(localStorage.setItem("currentUser",JSON.stringify(n)),showPopup("Welcome back, ".concat(n.username,"!"),"success",function(){window.location.href="index.html"})):showPopup("Invalid username or password!","error")}else showPopup("Please enter your username and password!","warning")}),signUpBtn&&signUpBtn.addEventListener("click",function(){var o=emailIn.value.trim(),s=usernameIn.value.trim(),e=passwordIn.value.trim();if(""!==o&&""!==s&&""!==e){if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){var t=[];try{var n=JSON.parse(localStorage.getItem("users"));Array.isArray(n)&&(t=n.filter(function(e){return e&&e.username&&e.email&&e.password}))}catch(e){}if(t.some(function(e){return e.username===s||e.email===o}))showPopup("This account already exists. Please log in.","warning",function(){window.location.href="sign-in.html"});else{var a={email:o,username:s,password:e};t.push(a),localStorage.setItem("users",JSON.stringify(t)),showPopup("Account created successfully! Welcome, ".concat(s,"."),"success",function(){window.location.href="sign-in.html"})}}else showPopup("Please enter a valid email address!","warning")}else showPopup("Please fill in all fields!","warning")}),window.addEventListener("pageshow",function(e){!e.persisted&&"back_forward"!==performance.getEntriesByType("navigation")[0].type||localStorage.getItem("currentUser")||window.location.replace("sign-in.html")});var togglePassword=document.querySelector("#togglePassword"),passwordField=document.querySelector("#pswrd");togglePassword&&passwordField&&togglePassword.addEventListener("click",function(){var e="password"===passwordField.getAttribute("type")?"text":"password";passwordField.setAttribute("type",e),togglePassword.classList.toggle("fa-eye-slash")});
//# sourceMappingURL=login.min.js.map
